
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="Mirantis">
      
      
      
        <link rel="prev" href="../replace-ceph-node/">
      
      
        <link rel="next" href="../increase-storage-size/">
      
      
      <link rel="icon" href="../../../assets/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.18">
    
    
      
        <title>Replace failed metadata device - Pelagia Controller for Rook Ceph management</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.7e37652d.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Overpass:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Overpass";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#replace-a-failed-metadata-device" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Pelagia Controller for Rook Ceph management" class="md-header__button md-logo" aria-label="Pelagia Controller for Rook Ceph management" data-md-component="logo">
      
  <img src="../../../assets/mirantis-logo-inverted-horizontal-one-color.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Pelagia Controller for Rook Ceph management
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Replace failed metadata device
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="custom" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/mirantis/pelagia" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Pelagia Controller for Rook Ceph management" class="md-nav__button md-logo" aria-label="Pelagia Controller for Rook Ceph management" data-md-component="logo">
      
  <img src="../../../assets/mirantis-logo-inverted-horizontal-one-color.svg" alt="logo">

    </a>
    Pelagia Controller for Rook Ceph management
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/mirantis/pelagia" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Architecture
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Architecture
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../architecture/overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Pelagia Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../architecture/limitations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Pelagia Limitations
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../architecture/addressing-ceph-devices/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Addressing Ceph Devices
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../architecture/rockoon-integration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Rockoon integration
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5" >
        
          
          <label class="md-nav__link" for="__nav_2_5" id="__nav_2_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Custom Resources
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_5">
            <span class="md-nav__icon md-icon"></span>
            Custom Resources
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../architecture/custom-resources/cephdeployment/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CephDeployment
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../architecture/custom-resources/cephdeploymenthealth/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CephDeploymentHealth
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../architecture/custom-resources/cephdeploymentsecret/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CephDeploymentSecret
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../architecture/custom-resources/cephosdremovetask/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CephOsdRemoveTask
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Quick Start
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Quick Start
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../quick-start/installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Install Pelagia
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../quick-start/lcm-installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Install LCM-only Pelagia
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../quick-start/upgrade/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Upgrade Pelagia
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../developer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Developer Guide
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Operations Guide
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Operations Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deployment/default-ceph-conf/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ceph Default Config Options
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deployment/rook-daemon-place/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Rook Daemons Placement
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deployment/multinetworking/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Enable Ceph Multinetwork
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deployment/rbd-mirror/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Enable Ceph RBD mirroring
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deployment/cephfs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Enable Ceph Filesystem
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deployment/move-failure-domain/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Change Ceph Pools Failure Domain
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deployment/move-mon-daemon/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Change Ceph Monitor node
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deployment/move-mon-node-replace/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Replace failed Ceph Monitor node
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_9" >
        
          
          <label class="md-nav__link" for="__nav_5_9" id="__nav_5_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Rockoon Integration
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_9">
            <span class="md-nav__icon md-icon"></span>
            Rockoon Integration
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../rockoon/rockoon-integration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Integrate Pelagia with Rockoon
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../rockoon/cinder-multi-backend/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configure Ceph pools for Cinder multi-backend
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../rockoon/calc-target-ratio/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Calculate target ratios for Rockoon
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_10" >
        
          
          <label class="md-nav__link" for="__nav_5_10" id="__nav_5_10_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Ceph Object Storage
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_10">
            <span class="md-nav__icon md-icon"></span>
            Ceph Object Storage
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deployment/rgw/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Enable Ceph RGW Object Storage
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deployment/rgw-tls/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configure Ceph Object Gateway TLS
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deployment/rgw-multisite/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Enable Multisite for Ceph Object Storage
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deployment/rgw-sse/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configure Ceph Object Storage SSE
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_10_5" >
        
          
          <label class="md-nav__link" for="__nav_5_10_5" id="__nav_5_10_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    RADOS Gateway Bucket Policy
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_10_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_10_5">
            <span class="md-nav__icon md-icon"></span>
            RADOS Gateway Bucket Policy
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deployment/s3-bucket-policy/s3-create-user/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Create Ceph Object Storage User
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deployment/s3-bucket-policy/bucket-policy-s3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Bucket Policy for Ceph Object User
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deployment/s3-bucket-policy/bucket-policy-rockoon/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Bucket Policy for Rockoon OpenStack User
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_11" >
        
          
          <label class="md-nav__link" for="__nav_5_11" id="__nav_5_11_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Ceph User Credentials
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_11">
            <span class="md-nav__icon md-icon"></span>
            Ceph User Credentials
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deployment/ceph-user-creds/ceph-client/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Enable Ceph RBD/CephFS Client
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deployment/ceph-user-creds/ceph-rgw-user/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Enable Ceph Object Storage User
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_12" >
        
          
          <label class="md-nav__link" for="__nav_5_12" id="__nav_5_12_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Ceph resources Management
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_12">
            <span class="md-nav__icon md-icon"></span>
            Ceph resources Management
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deployment/ceph-resource-mgmt/enable-resource-mgmt/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Enable Ceph resources Management
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deployment/ceph-resource-mgmt/verify-resource-mgmt/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Verify Ceph resources Management
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_13" checked>
        
          
          <label class="md-nav__link" for="__nav_5_13" id="__nav_5_13_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Ceph Cluster Lifecycle Management
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_13_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5_13">
            <span class="md-nav__icon md-icon"></span>
            Ceph Cluster Lifecycle Management
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_13_1" checked>
        
          
          <label class="md-nav__link" for="__nav_5_13_1" id="__nav_5_13_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Automated Lifecycle Management
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_13_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5_13_1">
            <span class="md-nav__icon md-icon"></span>
            Automated Lifecycle Management
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../create-task-workflow/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Create Ceph OSD remove Task
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../add-rm-ceph-osd/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ceph OSD Lifecycle Management
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../add-rm-ceph-osd-with-meta/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ceph OSD with metadata Lifecycle Management
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../add-rm-ceph-node/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ceph Node Lifecycle Management
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../replace-ceph-osd/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Replace failed Ceph OSD
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../replace-osd-meta-lvm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Replace failed Ceph OSD with metadata LVM
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../replace-osd-meta-device/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Replace failed Ceph OSD with metadata device
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../replace-ceph-node/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Replace failed Ceph Node
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Replace failed metadata device
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Replace failed metadata device
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#remove-failed-ceph-osds-with-affected-metadata-device" class="md-nav__link">
    <span class="md-ellipsis">
      Remove failed Ceph OSDs with affected metadata device
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prepare-the-replaced-metadata-device-for-ceph-osd-re-creation" class="md-nav__link">
    <span class="md-ellipsis">
      Prepare the replaced metadata device for Ceph OSD re-creation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#re-create-a-ceph-osd-on-the-replaced-metadata-device" class="md-nav__link">
    <span class="md-ellipsis">
      Re-create a Ceph OSD on the replaced metadata device
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../increase-storage-size/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Increase Ceph Cluster storage size
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../manual-osd-remove/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Remove Ceph OSD manually
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_14" >
        
          
          <label class="md-nav__link" for="__nav_5_14" id="__nav_5_14_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Verify Ceph Cluster
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_14_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_14">
            <span class="md-nav__icon md-icon"></span>
            Verify Ceph Cluster
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../verify-ceph/verify-cephdeploymenthealth/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Verify CephDeployment Health
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../verify-ceph/verify-ceph-core/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Verify Ceph Cluster services
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../verify-ceph/verify-pelagia-and-rook/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Verify Pelagia and Rook
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../verify-ceph/verify-rook-discover/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Verify Rook Discover
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Troubleshoot
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Troubleshoot
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../troubleshoot/cephosdremovetask-timeout/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CephOsdRemoveTask rebalance timeout
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../troubleshoot/ceph-osd-auth-failed/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ceph OSD auth failed
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../troubleshoot/ceph-exporter-crash/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Rook Ceph exporter crash
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../troubleshoot/ceph-mon-store-size-grow/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ceph Monitor size rapidly grows
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../troubleshoot/ceph-mon-recover/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ceph Monitor disaster recovery
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../troubleshoot/ceph-disaster-recover/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ceph Cluster disaster recovery
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#remove-failed-ceph-osds-with-affected-metadata-device" class="md-nav__link">
    <span class="md-ellipsis">
      Remove failed Ceph OSDs with affected metadata device
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prepare-the-replaced-metadata-device-for-ceph-osd-re-creation" class="md-nav__link">
    <span class="md-ellipsis">
      Prepare the replaced metadata device for Ceph OSD re-creation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#re-create-a-ceph-osd-on-the-replaced-metadata-device" class="md-nav__link">
    <span class="md-ellipsis">
      Re-create a Ceph OSD on the replaced metadata device
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<p><a id="replace-meta"></a></p>
<h1 id="replace-a-failed-metadata-device">Replace a failed metadata device<a class="headerlink" href="#replace-a-failed-metadata-device" title="Permanent link">#</a></h1>
<p>This section describes the scenario when an underlying metadata device fails
with all related Ceph OSDs. In this case, the only solution is to remove all
Ceph OSDs related to the failed metadata device, then attach a device that
will be used as a new metadata device, and re-create all affected Ceph OSDs.</p>
<h2 id="remove-failed-ceph-osds-with-affected-metadata-device">Remove failed Ceph OSDs with affected metadata device<a class="headerlink" href="#remove-failed-ceph-osds-with-affected-metadata-device" title="Permanent link">#</a></h2>
<ol>
<li>Save the <code>CephDeployment</code> specification of all Ceph OSDs affected by the
   failed metadata device to re-use this specification during re-creation of
   Ceph OSDs after disk replacement.</li>
<li>
<p>Identify Ceph OSD IDs related to the failed metadata device, for example,
   using Ceph CLI in the <code>pelagia-ceph-toolbox</code> Pod:
   <div class="highlight"><pre><span></span><code>ceph<span class="w"> </span>osd<span class="w"> </span>metadata
</code></pre></div></p>
<p>Example of system response:
 <div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">11</span><span class="p">,</span>
<span class="w">    </span><span class="err">...</span>
<span class="w">    </span><span class="nt">&quot;bluefs_db_devices&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;vdc&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="err">...</span>
<span class="w">    </span><span class="nt">&quot;bluestore_bdev_devices&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;vde&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="err">...</span>
<span class="w">    </span><span class="nt">&quot;devices&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;vdc,vde&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="err">...</span>
<span class="w">    </span><span class="nt">&quot;hostname&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;kaas-node-6c5e76f9-c2d2-4b1a-b047-3c299913a4bf&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="err">...</span>
<span class="p">},</span>
<span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span>
<span class="w">    </span><span class="err">...</span>
<span class="w">    </span><span class="nt">&quot;bluefs_db_devices&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;vdd&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="err">...</span>
<span class="w">    </span><span class="nt">&quot;bluestore_bdev_devices&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;vde&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="err">...</span>
<span class="w">    </span><span class="nt">&quot;devices&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;vdd,vde&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="err">...</span>
<span class="w">    </span><span class="nt">&quot;hostname&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;kaas-node-6c5e76f9-c2d2-4b1a-b047-3c299913a4bf&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="err">...</span>
<span class="p">},</span>
<span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">13</span><span class="p">,</span>
<span class="w">    </span><span class="err">...</span>
<span class="w">    </span><span class="nt">&quot;bluefs_db_devices&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;vdf&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="err">...</span>
<span class="w">    </span><span class="nt">&quot;bluestore_bdev_devices&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;vde&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="err">...</span>
<span class="w">    </span><span class="nt">&quot;devices&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;vde,vdf&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="err">...</span>
<span class="w">    </span><span class="nt">&quot;hostname&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;kaas-node-6c5e76f9-c2d2-4b1a-b047-3c299913a4bf&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="err">...</span>
<span class="p">},</span>
<span class="err">...</span>
</code></pre></div></p>
</li>
<li>
<p>Open the <code>CephDeployment</code> custom resource (CR) for editing:
   <div class="highlight"><pre><span></span><code>kubectl<span class="w"> </span>-n<span class="w"> </span>pelagia<span class="w"> </span>edit<span class="w"> </span>miraceph
</code></pre></div></p>
</li>
<li>
<p>In the <code>nodes</code> section, remove all <code>devices</code> items that relate
   to the failed metadata device. When using a metadata device with device filters, remove the whole node
   section, including the node <code>name: &lt;nodeName&gt;</code> field, and perform a complete node cleanup as described in
   <a href="https://mirantis.github.io/pelagia/ops-guide/lcm/add-rm-ceph-node#ceph-node-remove">Remove a Ceph node</a>.</p>
<p>For example:
 <div class="highlight"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span>
<span class="w">  </span><span class="nt">nodes</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;nodeName&gt;</span>
<span class="w">    </span><span class="nt">devices</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;deviceName1&gt;</span><span class="w">  </span><span class="c1"># remove the entire item from the devices list</span>
<span class="w">      </span><span class="c1"># fullPath: &lt;deviceByPath&gt; if device is specified using symlink instead of name</span>
<span class="w">      </span><span class="nt">config</span><span class="p">:</span>
<span class="w">        </span><span class="nt">deviceClass</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">hdd</span>
<span class="w">        </span><span class="nt">metadataDevice</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;metadataDevice&gt;</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;deviceName2&gt;</span><span class="w">  </span><span class="c1"># remove the entire item from the devices list</span>
<span class="w">      </span><span class="nt">config</span><span class="p">:</span>
<span class="w">        </span><span class="nt">deviceClass</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">hdd</span>
<span class="w">        </span><span class="nt">metadataDevice</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;metadataDevice&gt;</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;deviceName3&gt;</span><span class="w">  </span><span class="c1"># remove the entire item from the devices list</span>
<span class="w">      </span><span class="nt">config</span><span class="p">:</span>
<span class="w">        </span><span class="nt">deviceClass</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">hdd</span>
<span class="w">        </span><span class="nt">metadataDevice</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;metadataDevice&gt;</span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">...</span>
</code></pre></div></p>
<p>In the example above, <code>&lt;nodeName&gt;</code> is the node name where the metadata device <code>&lt;metadataDevice&gt;</code> must be replaced.</p>
</li>
<li>
<p>Create a <code>CephOsdRemoveTask</code> CR template and save it as <code>replace-failed-meta-&lt;nodeName&gt;-&lt;metadataDevice&gt;-task.yaml</code>:
   <div class="highlight"><pre><span></span><code><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">lcm.mirantis.com/v1alpha1</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">CephOsdRemoveTask</span>
<span class="nt">metadata</span><span class="p">:</span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">replace-failed-meta-&lt;nodeName&gt;-&lt;metadataDevice&gt;</span>
<span class="w">  </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">pelagia</span>
<span class="nt">spec</span><span class="p">:</span>
<span class="w">  </span><span class="nt">nodes</span><span class="p">:</span>
<span class="w">    </span><span class="nt">&lt;nodeName&gt;</span><span class="p">:</span>
<span class="w">      </span><span class="nt">cleanupByOsdId</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;osdID-1&gt;</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;osdID-2&gt;</span>
<span class="w">      </span><span class="l l-Scalar l-Scalar-Plain">...</span>
</code></pre></div></p>
<p>Substitute the following parameters:</p>
<ul>
<li><code>&lt;nodeName&gt;</code> and <code>&lt;metadataDevice&gt;</code> with the node and device
   names from the previous step</li>
<li><code>&lt;osdID-*&gt;</code> with IDs of the affected Ceph OSDs</li>
</ul>
</li>
<li>
<p>Apply the template to the cluster:
   <div class="highlight"><pre><span></span><code>kubectl<span class="w"> </span>apply<span class="w"> </span>-f<span class="w"> </span>replace-failed-meta-&lt;nodeName&gt;-&lt;metadataDevice&gt;-task.yaml
</code></pre></div></p>
</li>
<li>
<p>Verify that the corresponding request has been created:
   <div class="highlight"><pre><span></span><code>kubectl<span class="w"> </span>-n<span class="w"> </span>pelagia<span class="w"> </span>get<span class="w"> </span>cephosdremovetask
</code></pre></div></p>
</li>
<li>
<p>Verify that the <code>removeInfo</code> section is present in the <code>CephOsdRemoveTask</code> CR <code>status</code> and that the <code>cleanupMap</code>
   section matches the required removal:
   <div class="highlight"><pre><span></span><code>kubectl<span class="w"> </span>-n<span class="w"> </span>pelagia<span class="w"> </span>get<span class="w"> </span>cephosdremovetask<span class="w"> </span>replace-failed-meta-&lt;nodeName&gt;-&lt;metadataDevice&gt;<span class="w"> </span>-o<span class="w"> </span>yaml
</code></pre></div></p>
<p>Example of system response:
 <div class="highlight"><pre><span></span><code><span class="nt">removeInfo</span><span class="p">:</span>
<span class="w">  </span><span class="nt">cleanupMap</span><span class="p">:</span>
<span class="w">    </span><span class="nt">&lt;nodeName&gt;</span><span class="p">:</span>
<span class="w">      </span><span class="nt">osdMapping</span><span class="p">:</span>
<span class="w">        </span><span class="s">&quot;&lt;osdID-1&gt;&quot;</span><span class="p p-Indicator">:</span>
<span class="w">          </span><span class="nt">deviceMapping</span><span class="p">:</span>
<span class="w">            </span><span class="nt">&lt;dataDevice-1&gt;</span><span class="p">:</span>
<span class="w">              </span><span class="nt">deviceClass</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">hdd</span>
<span class="w">              </span><span class="nt">devicePath</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;dataDeviceByPath-1&gt;</span>
<span class="w">              </span><span class="nt">devicePurpose</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">block</span>
<span class="w">              </span><span class="nt">usedPartition</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;dataLvPartition-1&gt;</span>
<span class="w">              </span><span class="nt">zapDisk</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">            </span><span class="nt">&lt;metadataDevice&gt;</span><span class="p">:</span>
<span class="w">              </span><span class="nt">deviceClass</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">hdd</span>
<span class="w">              </span><span class="nt">devicePath</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;metadataDeviceByPath&gt;</span>
<span class="w">              </span><span class="nt">devicePurpose</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">db</span>
<span class="w">              </span><span class="nt">usedPartition</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/dev/ceph-b0c70c72-8570-4c9d-93e9-51c3ab4dd9f9/osd-db-ecf64b20-1e07-42ac-a8ee-32ba3c0b7e2f</span>
<span class="w">          </span><span class="nt">uuid</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ef516477-d2da-492f-8169-a3ebfc3417e2</span>
<span class="w">        </span><span class="s">&quot;&lt;osdID-2&gt;&quot;</span><span class="p p-Indicator">:</span>
<span class="w">          </span><span class="nt">deviceMapping</span><span class="p">:</span>
<span class="w">            </span><span class="nt">&lt;dataDevice-2&gt;</span><span class="p">:</span>
<span class="w">              </span><span class="nt">deviceClass</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">hdd</span>
<span class="w">              </span><span class="nt">devicePath</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;dataDeviceByPath-2&gt;</span>
<span class="w">              </span><span class="nt">devicePurpose</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">block</span>
<span class="w">              </span><span class="nt">usedPartition</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;dataLvPartition-2&gt;</span>
<span class="w">              </span><span class="nt">zapDisk</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">            </span><span class="nt">&lt;metadataDevice&gt;</span><span class="p">:</span>
<span class="w">              </span><span class="nt">deviceClass</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">hdd</span>
<span class="w">              </span><span class="nt">devicePath</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;metadataDeviceByPath&gt;</span>
<span class="w">              </span><span class="nt">devicePurpose</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">db</span>
<span class="w">              </span><span class="nt">usedPartition</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/dev/ceph-b0c70c72-8570-4c9d-93e9-51c3ab4dd9f9/osd-db-ecf64b20-1e07-42ac-a8ee-32ba3c0b7e2f</span>
<span class="w">          </span><span class="nt">uuid</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ef516477-d2da-492f-8169-a3ebfc3417e2</span>
<span class="w">        </span><span class="l l-Scalar l-Scalar-Plain">...</span>
</code></pre></div></p>
<p>Definition of values in angle brackets:</p>
<ul>
<li><code>&lt;nodeName&gt;</code> - underlying node name of the machine, for example,
   <code>storage-worker-55</code></li>
<li><code>&lt;osdId&gt;</code> - Ceph OSD ID for the device being replaced, for example,
   <code>1</code></li>
<li><code>&lt;dataDeviceByPath&gt;</code> - <code>by-path</code> of the device placed on the node,
   for example, <code>/dev/disk/by-path/pci-0000:00:1t.9</code></li>
<li><code>&lt;dataDevice&gt;</code> - name of the device placed on the node, for example,
   <code>/dev/vdc</code></li>
<li><code>&lt;metadataDevice&gt;</code> - metadata name of the device placed on the node,
   for example, <code>/dev/vde</code></li>
<li><code>&lt;metadataDeviceByPath&gt;</code> - metadata <code>by-path</code> of the device placed
   on the node, for example, <code>/dev/disk/by-path/pci-0000:00:12.0</code></li>
<li><code>&lt;dataLvPartition&gt;</code> - logical volume partition of the data device</li>
</ul>
</li>
<li>
<p>Wait for the <code>ApproveWaiting</code> phase to appear in <code>status</code>:
   <div class="highlight"><pre><span></span><code>kubectl<span class="w"> </span>-n<span class="w"> </span>pelagia<span class="w"> </span>get<span class="w"> </span>cephosdremovetask<span class="w"> </span>replace-failed-meta-&lt;nodeName&gt;-&lt;metadataDevice&gt;<span class="w"> </span>-o<span class="w"> </span>yaml
</code></pre></div></p>
<p>Example of system response:
 <div class="highlight"><pre><span></span><code><span class="nt">status</span><span class="p">:</span>
<span class="w">  </span><span class="nt">phase</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ApproveWaiting</span>
</code></pre></div></p>
</li>
<li>
<p>In the <code>CephOsdRemoveTask</code> CR, set the <code>approve</code> flag to <code>true</code>:
    <div class="highlight"><pre><span></span><code>kubectl<span class="w"> </span>-n<span class="w"> </span>pelagia<span class="w"> </span>edit<span class="w"> </span>cephosdremovetask<span class="w"> </span>replace-failed-meta-&lt;nodeName&gt;-&lt;metadataDevice&gt;
</code></pre></div></p>
<p>Configuration snippet:
  <div class="highlight"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span>
<span class="w">  </span><span class="nt">approve</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</code></pre></div></p>
</li>
<li>
<p>Review the following <code>status</code> fields of the Ceph LCM CR processing:</p>
<ul>
<li><code>status.phase</code> - current state of task processing;</li>
<li><code>status.messages</code> - description of the current phase;</li>
<li><code>status.conditions</code> - full history of task processing before the
    current phase;</li>
<li><code>status.removeInfo.issues</code> and <code>status.removeInfo.warnings</code> - error
    and warning messages occurred during task processing, if any.</li>
</ul>
</li>
<li>
<p>Verify that the <code>CephOsdRemoveTask</code> has been completed. For example:
    <div class="highlight"><pre><span></span><code><span class="nt">status</span><span class="p">:</span>
<span class="w">  </span><span class="nt">phase</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Completed</span><span class="w"> </span><span class="c1"># or CompletedWithWarnings if there are non-critical issues</span>
</code></pre></div></p>
</li>
</ol>
<h2 id="prepare-the-replaced-metadata-device-for-ceph-osd-re-creation">Prepare the replaced metadata device for Ceph OSD re-creation<a class="headerlink" href="#prepare-the-replaced-metadata-device-for-ceph-osd-re-creation" title="Permanent link">#</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This section describes how to create a metadata disk partition
on N logical volumes. To create one partition on a metadata disk, refer to
<a href="https://mirantis.github.io/pelagia/ops-guide/lcm/replace-osd-meta-device#recreate-meta-lvm">Re-create the partition on the existing metadata disk</a>.</p>
</div>
<ol>
<li>
<p>Partition the replaced metadata device by N logical volumes (LVs), where N
   is the number of Ceph OSDs previously located on a failed metadata device.</p>
<p>Calculate the new metadata LV percentage of used volume group capacity using the <code>100 / N</code> formula.</p>
</li>
<li>
<p>Log in to the node with the replaced metadata disk.</p>
</li>
<li>
<p>Create an LVM physical volume atop the replaced metadata device:
   <div class="highlight"><pre><span></span><code>pvcreate<span class="w"> </span>&lt;metadataDisk&gt;
</code></pre></div></p>
<p>Substitute <code>&lt;metadataDisk&gt;</code> with the replaced metadata device.</p>
</li>
<li>
<p>Create an LVM volume group atop of the physical volume:
   <div class="highlight"><pre><span></span><code>vgcreate<span class="w"> </span>bluedb<span class="w"> </span>&lt;metadataDisk&gt;
</code></pre></div></p>
<p>Substitute <code>&lt;metadataDisk&gt;</code> with the replaced metadata device.</p>
</li>
<li>
<p>Create N LVM logical volumes with the calculated capacity per each volume:
   <div class="highlight"><pre><span></span><code>lvcreate<span class="w"> </span>-l<span class="w"> </span>&lt;X&gt;%VG<span class="w"> </span>-n<span class="w"> </span>meta_&lt;i&gt;<span class="w"> </span>bluedb
</code></pre></div></p>
<p>Substitute <code>&lt;X&gt;</code> with the result of the <code>100 / N</code> formula and <code>&lt;i&gt;</code>
 with the current number of metadata partitions.</p>
</li>
</ol>
<p>As a result, the replaced metadata device will have N LVM paths, for example,
<code>/dev/bluedb/meta_1</code>.</p>
<h2 id="re-create-a-ceph-osd-on-the-replaced-metadata-device">Re-create a Ceph OSD on the replaced metadata device<a class="headerlink" href="#re-create-a-ceph-osd-on-the-replaced-metadata-device" title="Permanent link">#</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You can spawn Ceph OSD on a raw device, but it must be clean and
without any data or partitions. If you want to add a device that was in use,
also ensure it is raw and clean. To clean up all data and partitions from a
device, refer to official <a href="https://github.com/rook/rook/blob/master/Documentation/Storage-Configuration/ceph-teardown.md#zapping-devices">Rook documentation</a>.</p>
</div>
<ol>
<li>
<p>Open the <code>CephDeployment</code> CR for editing:
   <div class="highlight"><pre><span></span><code>kubectl<span class="w"> </span>-n<span class="w"> </span>pelagia<span class="w"> </span>edit<span class="w"> </span>cephdpl
</code></pre></div></p>
</li>
<li>
<p>In the <code>nodes</code> section, add the cleaned Ceph OSD device with the replaced
   LVM paths of the metadata device from previous steps. For example:
   <div class="highlight"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span>
<span class="w">  </span><span class="nt">nodes</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;nodeName&gt;</span>
<span class="w">    </span><span class="nt">devices</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">fullPath</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;deviceByID-1&gt;</span><span class="w"> </span><span class="c1"># Recommended. Add the new device by ID /dev/disk/by-id/...</span>
<span class="w">      </span><span class="c1">#name: &lt;deviceByID-1&gt; # Not recommended. Add a new device by ID, for example, /dev/disk/by-id/...</span>
<span class="w">      </span><span class="c1">#fullPath: &lt;deviceByPath-1&gt; # Not recommended. Add a new device by path /dev/disk/by-path/...</span>
<span class="w">      </span><span class="nt">config</span><span class="p">:</span>
<span class="w">        </span><span class="nt">deviceClass</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">hdd</span>
<span class="w">        </span><span class="nt">metadataDevice</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/dev/&lt;vgName&gt;/&lt;lvName-1&gt;</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">fullPath</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;deviceByID-2&gt;</span><span class="w"> </span><span class="c1"># Recommended. Add the new device by ID /dev/disk/by-id/...</span>
<span class="w">      </span><span class="c1">#name: &lt;deviceByID-2&gt; # Not recommended. Add a new device by ID, for example, /dev/disk/by-id/...</span>
<span class="w">      </span><span class="c1">#fullPath: &lt;deviceByPath-2&gt; # Not recommended. Add a new device by path /dev/disk/by-path/...</span>
<span class="w">      </span><span class="nt">config</span><span class="p">:</span>
<span class="w">        </span><span class="nt">deviceClass</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">hdd</span>
<span class="w">        </span><span class="nt">metadataDevice</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/dev/&lt;vgName&gt;/&lt;lvName-2&gt;</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">fullPath</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;deviceByID-3&gt;</span><span class="w"> </span><span class="c1"># Recommended. Add the new device by ID /dev/disk/by-id/...</span>
<span class="w">      </span><span class="c1">#name: &lt;deviceByID-3&gt; # Not recommended. Add a new device by ID, for example, /dev/disk/by-id/...</span>
<span class="w">      </span><span class="c1">#fullPath: &lt;deviceByPath-3&gt; # Not recommended. Add a new device by path /dev/disk/by-path/...</span>
<span class="w">      </span><span class="nt">config</span><span class="p">:</span>
<span class="w">        </span><span class="nt">deviceClass</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">hdd</span>
<span class="w">        </span><span class="nt">metadataDevice</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/dev/&lt;vgName&gt;/&lt;lvName-3&gt;</span>
</code></pre></div></p>
<ul>
<li>Substitute <code>&lt;nodeName&gt;</code> with the node name where the
   metadata device has been replaced.</li>
<li>Add all data devices for re-created Ceph OSDs and specify
   <code>metadataDevice</code> that is the path to the previously created logical
   volume. Substitute <code>&lt;vgName&gt;</code> with a volume group name that contains N
   logical volumes <code>&lt;lvName-i&gt;</code>.</li>
</ul>
</li>
<li>
<p>Wait for the re-created Ceph OSDs to apply to the Ceph cluster. You can monitor the application state using
   either the <code>status</code> section of the <code>CephDeploymentHealth</code> CR or in the <code>pelagia-ceph-toolbox</code> Pod:
   <div class="highlight"><pre><span></span><code>kubectl<span class="w"> </span>-n<span class="w"> </span>pelagia<span class="w"> </span>get<span class="w"> </span>cephdeploymenthealth<span class="w"> </span>-o<span class="w"> </span>yaml
kubectl<span class="w"> </span>-n<span class="w"> </span>rook-ceph<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-it<span class="w"> </span>deploy/pelagia-ceph-toolbox<span class="w"> </span>--<span class="w"> </span>ceph<span class="w"> </span>-s
</code></pre></div></p>
</li>
</ol>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../replace-ceph-node/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Replace failed Ceph Node">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Replace failed Ceph Node
              </div>
            </div>
          </a>
        
        
          
          <a href="../increase-storage-size/" class="md-footer__link md-footer__link--next" aria-label="Next: Increase Ceph Cluster storage size">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Increase Ceph Cluster storage size
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      © 2005 - 2025 Mirantis, Inc. All rights reserved.
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../..", "features": ["toc.autohide", "search.suggest", "search.highlight", "navigation.tabs.sticky", "navigation.footer", "navigation.path", "content.code.copy"], "search": "../../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.92b07e13.min.js"></script>
      
    
  </body>
</html>